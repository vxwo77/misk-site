<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dynamic Crowd Routing System â€“ Misk City</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --primary: #0c5b4c;  /* Ø£Ø®Ø¶Ø± Ø³Ø¹ÙˆØ¯ÙŠ */
      --accent: #d4a048;   /* Ø°Ù‡Ø¨ÙŠ ØªØ±Ø§Ø«ÙŠ Ù‡Ø§Ø¯ÙŠ */
      --bg: #f7f5f0;
      --card-bg: #ffffff;
      --text: #222;
      --danger: #c73333;
      --warn: #e6a700;
      --safe: #24a36b;
      --shadow-soft: 0 4px 10px rgba(0,0,0,0.04);
    }

    body.dark {
      --bg: #111827;
      --card-bg: #1f2933;
      --text: #f9fafb;
      --shadow-soft: 0 8px 20px rgba(0,0,0,0.35);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      transition: background 0.3s ease, color 0.3s ease;
    }

    header {
      background: linear-gradient(120deg, #0c5b4c, #0c5b4c 55%, #d4a048);
      color: #fff;
      padding: 18px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    /* === ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ø¨Ø±Ø§Ù†Ø¯ Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„ÙˆÙ‚Ùˆ === */
    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-logo {
      height: 64px;      /* Ù„Ùˆ Ø­Ø¨ÙŠØªÙŠ Ø£ÙƒØ¨Ø±/Ø£ØµØºØ± Ø¹Ø¯Ù„ÙŠ Ø§Ù„Ø±Ù‚Ù… */
      width: auto;
      object-fit: contain;
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .brand-title {
      font-size: 1.4rem;
      font-weight: 700;
    }

    .brand-sub {
      font-size: 0.85rem;
      opacity: 0.9;
    }

    nav {
      display: flex;
      gap: 16px;
      font-size: 0.9rem;
      flex-wrap: wrap;
    }

    nav a {
      color: #fdfdfd;
      text-decoration: none;
      opacity: 0.9;
    }

    nav a:hover {
      opacity: 1;
      text-decoration: underline;
    }

    .header-actions {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
    }

    .mode-toggle {
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.5);
      background: rgba(0,0,0,0.15);
      color: #fff;
      padding: 5px 10px;
      font-size: 0.8rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .badge-header {
      background: rgba(255,255,255,0.16);
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 0.8rem;
    }

    .tagline {
      padding: 10px 16px;
      background: rgba(255,255,255,0.85);
      border-bottom: 1px solid #e5decf;
      font-size: 0.94rem;
      display: flex;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .tagline span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .badge {
      background: rgba(12, 91, 76, 0.08);
      border: 1px solid rgba(12, 91, 76, 0.2);
      color: var(--primary);
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 0.8rem;
    }

    body.dark .tagline {
      background: #111827;
      border-color: #253041;
    }

    main {
      max-width: 1200px;
      margin: 18px auto 40px;
      padding: 0 12px;
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 1.4fr);
      gap: 16px;
    }

    @media (max-width: 900px) {
      main {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: var(--card-bg);
      border-radius: 14px;
      border: 1px solid rgba(214,200,177,0.7);
      padding: 14px 14px 14px;
      box-shadow: var(--shadow-soft);
      transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 10px;
      gap: 8px;
      flex-wrap: wrap;
    }

    .card-title {
      font-size: 1rem;
      font-weight: 700;
      display: flex;
      gap: 6px;
      align-items: center;
    }

    .card-title span.en {
      font-size: 0.9rem;
      font-weight: 500;
      color: #555;
    }

    body.dark .card-title span.en {
      color: #a3b3d1;
    }

    .card-sub {
      font-size: 0.8rem;
      color: #777;
    }

    body.dark .card-sub {
      color: #9ca9c5;
    }

    .map-wrapper {
      position: relative;
      border-radius: 14px;
      overflow: hidden;
      border: 1px solid #ddd2bf;
    }

    body.dark .map-wrapper {
      border-color: #374151;
    }

    .map-wrapper img {
      display: block;
      width: 100%;
      height: auto;
    }

    /* SVG Ø·Ø¨Ù‚Ø© Ù„Ù„Ù…Ø³Ø§Ø±Ø§Øª */
    .route-layer {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .map-overlay {
      position: absolute;
      inset: auto 10px 10px 10px;
      background: rgba(0,0,0,0.68);
      color: #fff;
      padding: 8px 10px;
      border-radius: 10px;
      font-size: 0.8rem;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }

    .badge-level {
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 0.72rem;
      font-weight: 600;
    }

    .badge-level.safe { background: rgba(36,163,107,0.2); color: #8ff4bf;}
    .badge-level.warn { background: rgba(230,167,0,0.25); color: #ffd777;}
    .badge-level.danger { background: rgba(199,51,51,0.25); color: #ff9b9b;}

    .heritage-strip {
      border-top: 2px solid rgba(212,160,72,0.3);
      margin-top: 8px;
      padding-top: 6px;
      font-size: 0.75rem;
      color: #9a8e7a;
      letter-spacing: 0.03em;
    }

    body.dark .heritage-strip {
      color: #c4b79e;
      border-color: rgba(212,160,72,0.45);
    }

    .heritage-strip span {
      border-inline-start: 4px solid rgba(212,160,72,0.6);
      padding-inline-start: 8px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin: 10px 0;
    }

    @media (max-width: 600px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
    }

    label {
      font-size: 0.8rem;
      margin-bottom: 4px;
      display: block;
      color: #555;
    }

    body.dark label {
      color: #dde4f3;
    }

    select {
      width: 100%;
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px solid #d0c5b3;
      background: #fbf9f5;
      font-size: 0.85rem;
    }

    body.dark select {
      background: #111827;
      border-color: #374151;
      color: #f9fafb;
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 7px 16px;
      font-size: 0.9rem;
      cursor: pointer;
      background: var(--primary);
      color: #fff;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.2s;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }

    button.secondary {
      background: transparent;
      color: #f4f4f4;
      border: 1px solid rgba(255,255,255,0.4);
      box-shadow: none;
    }

    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 11px rgba(0,0,0,0.18);
      opacity: 0.97;
    }

    .route-result {
      margin-top: 8px;
      padding: 8px 10px;
      border-radius: 10px;
      background: #f5f1e7;
      border: 1px dashed #d4a048;
      font-size: 0.85rem;
    }

    body.dark .route-result {
      background: #111827;
      border-color: #fbbf24;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .pill {
      font-size: 0.76rem;
      border-radius: 999px;
      padding: 3px 9px;
      background: #f2eee5;
      border: 1px solid #e2d5c0;
    }

    body.dark .pill {
      background: #111827;
      border-color: #374151;
      color: #e5e7eb;
    }

    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 8px;
      margin-top: 8px;
    }

    @media (max-width: 600px) {
      .kpi-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .kpi-card {
      background: #fbf9f5;
      border-radius: 10px;
      padding: 10px;
      border: 1px solid #e1d6c4;
      font-size: 0.8rem;
    }

    body.dark .kpi-card {
      background: #111827;
      border-color: #374151;
    }

    .kpi-value {
      font-size: 1rem;
      font-weight: 700;
    }

    .kpi-label {
      font-size: 0.75rem;
      color: #666;
    }

    body.dark .kpi-label {
      color: #a3b3d1;
    }

    .status-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      display: inline-block;
      margin-inline-end: 4px;
    }

    .status-dot.red { background: var(--danger); }
    .status-dot.yellow { background: var(--warn); }
    .status-dot.green { background: var(--safe); }

    footer {
      max-width: 1200px;
      margin: 8px auto 24px;
      padding: 0 16px;
      font-size: 0.75rem;
      color: #777;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      border-top: 1px solid #e5decf;
      padding-top: 10px;
    }

    body.dark footer {
      border-color: #374151;
      color: #9ca3af;
    }

    /* Hotspots & labels ÙÙˆÙ‚ Ø§Ù„Ø®Ø±ÙŠØ·Ø© */
    .hotspot {
      position: absolute;
      width: 42px;
      height: 42px;
      border-radius: 999px;
      transform: translate(-50%, -50%);
      pointer-events: none;
      opacity: 0.85;
      animation: heatPulse 2.2s infinite;
    }

    .hotspot.high {
      background: radial-gradient(circle, rgba(239,68,68,0.85), rgba(127,29,29,0.1));
    }
    .hotspot.medium {
      background: radial-gradient(circle, rgba(245,158,11,0.8), rgba(120,53,15,0.05));
      animation-duration: 2.6s;
    }
    .hotspot.low {
      background: radial-gradient(circle, rgba(16,185,129,0.75), rgba(6,95,70,0.04));
      animation-duration: 3s;
    }

    @keyframes heatPulse {
      0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.9; }
      50% { transform: translate(-50%, -50%) scale(1.05); opacity: 0.6; }
      100% { transform: translate(-50%, -50%) scale(0.85); opacity: 0.9; }
    }

    .place-label {
      position: absolute;
      transform: translate(-50%, -50%);
      pointer-events: none;
      font-size: 0.65rem;
      padding: 2px 6px;
      border-radius: 999px;
      background: rgba(17,24,39,0.82);
      color: #f9fafb;
      white-space: nowrap;
    }

    .place-label.light {
      background: rgba(243,244,246,0.92);
      color: #111827;
    }

    /* Ù†Ø±Ø§Ø¹ÙŠ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 600px) {
      header {
        padding-inline: 12px;
      }
      .tagline {
        font-size: 0.85rem;
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="brand">
      <img src="misk-logo.png" alt="Misk Crowd Routing Logo" class="brand-logo">
      <div class="brand-text">
        <div class="brand-title">Dynamic Crowd Routing System</div>
        <div class="brand-sub">Misk City Â· Smart Heritage Tech Â· Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ø­Ø´ÙˆØ¯</div>
      </div>
    </div>
    <div class="header-actions">
      <nav>
        <a href="#map">Live Map / Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø­ÙŠØ©</a>
        <a href="#visitor">Visitor Route / Ù…Ø³Ø§Ø± Ø§Ù„Ø²Ø§Ø¦Ø±</a>
        <a href="#dashboard">Dashboard / Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
      </nav>
      <button class="mode-toggle" onclick="toggleMode()">
        ğŸŒ™ / â˜€ï¸
        <span>Dark Â· Light</span>
      </button>
      <div class="badge-header">Heritage-inspired Â· Ø¨Ø±ÙˆØ­ Ù…Ø³Ùƒ</div>
    </div>
  </header>

  <!-- Tagline -->
  <div class="tagline">
    <span>
      <strong>Real-time AI Â· Ø°ÙƒØ§Ø¡ Ø¢Ù„ÙŠ Ù„Ø­Ø¸ÙŠ</strong>
    </span>
    <span class="badge">Dynamic Routing Â· ØªÙˆØ¬ÙŠÙ‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ù„Ù„Ø­Ø´ÙˆØ¯</span>
  </div>

  <!-- Main Grid -->
  <main>
    <!-- Left: Map & Dashboard -->
    <section id="map" class="card">
      <div class="card-header">
        <div class="card-title">
          Live Crowd Map
          <span class="en">/ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø­ÙŠØ© Ù„Ù„Ø­Ø´ÙˆØ¯</span>
        </div>
        <div class="card-sub">Misk City Â· Ù…Ø³Ùƒ Ø³ÙŠØªÙŠ</div>
      </div>

      <div class="map-wrapper">
        <!-- IMPORTANT: misk-map.jpg ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¨Ù†ÙØ³ Ø§Ù„Ù…Ø¬Ù„Ø¯ -->
        <img src="misk-map.jpg" alt="Misk City Masterplan Map" />

        <!-- Ø·Ø¨Ù‚Ø© SVG Ù„Ù„Ù…Ø³Ø§Ø±Ø§Øª -->
        <svg class="route-layer" viewBox="0 0 100 60" preserveAspectRatio="none">
          <!-- Ù…Ø³Ø§Ø± Ø±Ø¦ÙŠØ³ÙŠ Ù…Ù† West Plaza Ø¥Ù„Ù‰ Main Stage -->
          <polyline
            id="route-main"
            points="18,42 30,38 44,34 58,30 70,26"
            fill="none"
            stroke="#10b981"
            stroke-width="2.2"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-dasharray="4 3"
          />
          <!-- Ù…Ø³Ø§Ø± Ø¨Ø¯ÙŠÙ„ Ø¹Ø¨Ø± Wadi Trail -->
          <polyline
            id="route-alt"
            points="18,45 26,49 40,50 56,48 72,40"
            fill="none"
            stroke="#f59e0b"
            stroke-width="1.7"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-dasharray="3 3"
            opacity="0.7"
          />
        </svg>

        <!-- Hotspots (heatmap Ù†Ù‚Ø§Ø· Ø§Ø²Ø¯Ø­Ø§Ù…) -->
        <div class="hotspot high" style="top: 55%; left: 30%;"></div> <!-- West Plaza -->
        <div class="hotspot medium" style="top: 42%; left: 50%;"></div> <!-- Heritage Spine -->
        <div class="hotspot low" style="top: 60%; left: 70%;"></div> <!-- Wadi Trail -->

        <!-- Labels Ù„Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div class="place-label" style="top: 58%; left: 32%;">West Plaza Â· Ø§Ù„Ø³Ø§Ø­Ø© Ø§Ù„ØºØ±Ø¨ÙŠØ©</div>
        <div class="place-label" style="top: 44%; left: 52%;">Heritage Spine Â· Ù…Ø­ÙˆØ± Ø§Ù„ØªØ±Ø§Ø«</div>
        <div class="place-label light" style="top: 63%; left: 73%;">Wadi Trail Â· ÙˆØ§Ø¯ÙŠ Ø­Ù†ÙŠÙØ©</div>
        <div class="place-label light" style="top: 35%; left: 68%;">Main Stage Â· Ø§Ù„Ù…Ø³Ø±Ø­ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</div>

        <div class="map-overlay">
          <div>
            <strong>Realtime Density Â· Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù„Ø­Ø¸ÙŠØ©</strong><br/>
            West Plaza: <span class="badge-level danger">85% Â· High</span> Â· <span>ØºØ±Ø¨ÙŠÙ‹Ø§ Ù…Ø²Ø¯Ø­Ù…</span><br/>
            Heritage Spine: <span class="badge-level warn">62% Â· Medium</span><br/>
            Wadi Trail: <span class="badge-level safe">28% Â· Low</span>
          </div>
          <div>
            <button class="secondary" onclick="simulatePrediction()">
              ğŸ”® Predict 10 min
            </button>
          </div>
        </div>
      </div>

      <div class="heritage-strip">
        <span>Inspired by Misk urban fabric Â· Ù…Ø³ØªÙ„Ù‡Ù… Ù…Ù† Ù†Ø³ÙŠØ¬ Ù…Ø³Ùƒ Ø§Ù„Ø¹Ù…Ø±Ø§Ù†ÙŠ</span>
      </div>

      <section id="dashboard" style="margin-top: 12px;">
        <div class="card-header">
          <div class="card-title">
            Operator Dashboard
            <span class="en">/ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ù†Ø¸Ù‘Ù…</span>
          </div>
        </div>

        <div class="kpi-grid">
          <div class="kpi-card">
            <div class="kpi-value">-32%</div>
            <div class="kpi-label">Average congestion vs baseline<br/>Ø§Ù†Ø®ÙØ§Ø¶ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø§Ø²Ø¯Ø­Ø§Ù…</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-value">+24%</div>
            <div class="kpi-label">Faster arrival time<br/>ØªØ³Ø±ÙŠØ¹ ÙˆØµÙˆÙ„ Ø§Ù„Ø²ÙˆØ§Ø±</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-value">10 min</div>
            <div class="kpi-label">Prediction horizon<br/>Ø£ÙÙ‚ Ø§Ù„ØªÙ†Ø¨Ø¤</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-value">3</div>
            <div class="kpi-label">Critical hotspots<br/>Ù†Ù‚Ø§Ø· Ø­Ø±Ø¬Ø©</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-value">89%</div>
            <div class="kpi-label">Visitor flow satisfaction<br/>Ø±Ø¶Ø§ Ø­Ø±ÙƒØ© Ø§Ù„Ø²ÙˆØ§Ø±</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-label">
              <span class="status-dot red"></span> West Plaza<br/>
              <span class="status-dot yellow"></span> Heritage Spine<br/>
              <span class="status-dot green"></span> Wadi Trail
            </div>
          </div>
        </div>
      </section>
    </section>

    <!-- Right: Visitor Panel -->
    <section id="visitor" class="card">
      <div class="card-header">
        <div class="card-title">
          Visitor Smart Route
          <span class="en">/ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ø²Ø§Ø¦Ø±</span>
        </div>
      </div>

      <p style="font-size:0.9rem; color:#555;">
        Choose your current area and destination, and the system suggests the best route
        based on live crowd density.
        <br/>
        <span style="font-size:0.85rem;">Ø§Ø®ØªØ± Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆÙˆØ¬Ù‡ØªÙƒØŒ ÙˆØ§Ù„Ù†Ø¸Ø§Ù… ÙŠÙ‚ØªØ±Ø­ Ø£ÙØ¶Ù„ Ù…Ø³Ø§Ø± Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø§Ø²Ø¯Ø­Ø§Ù….</span>
      </p>

      <div class="form-grid">
        <div>
          <label>Current Area / Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</label>
          <select id="currentArea">
            <option value="west_plaza">West Plaza Â· Ø§Ù„Ø³Ø§Ø­Ø© Ø§Ù„ØºØ±Ø¨ÙŠØ©</option>
            <option value="heritage_spine">Heritage Spine Â· Ù…Ø­ÙˆØ± Ø§Ù„ØªØ±Ø§Ø«</option>
            <option value="wadi_trail">Wadi Trail Â· ÙˆØ§Ø¯ÙŠ Ø­Ù†ÙŠÙØ©</option>
            <option value="creative_district">Creative District Â· Ø­ÙŠ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹</option>
          </select>
        </div>
        <div>
          <label>Destination / Ø§Ù„ÙˆØ¬Ù‡Ø©</label>
          <select id="destination">
            <option value="main_stage">Main Stage Â· Ø§Ù„Ù…Ø³Ø±Ø­ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
            <option value="food_zone">Food Zone Â· Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…</option>
            <option value="museum">Cultural Museum Â· Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ø«Ù‚Ø§ÙÙŠ</option>
            <option value="parking_north">North Parking Â· Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø´Ù…Ø§Ù„</option>
          </select>
        </div>
      </div>

      <button onclick="getBestRoute()">
        ğŸš¶â€â™‚ï¸ Get Best Route Â· Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ù…Ø³Ø§Ø±
      </button>

      <div id="routeResult" class="route-result" style="display:none;"></div>

      <div class="pill-row">
        <div class="pill">AI-based prediction Â· ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</div>
        <div class="pill">Dynamic rerouting Â· Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©</div>
        <div class="pill">No personal data Â· Ø¨Ø¯ÙˆÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ø®ØµÙŠØ©</div>
      </div>
    </section>
  </main>

  <footer>
    <div>Prototype for Misk City Hackathon Â· Ù†Ù…ÙˆØ°Ø¬ Ø£ÙˆÙ„ÙŠ Ù„Ù‡ÙƒØ§Ø«ÙˆÙ† Ù…Ø³Ùƒ</div>
    <div>Dynamic Crowd Routing System Â· Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ø­Ø´ÙˆØ¯</div>
  </footer>

  <script>
    function getBestRoute() {
      const area = document.getElementById('currentArea').value;
      const dest = document.getElementById('destination').value;
      const box = document.getElementById('routeResult');

      let msgEn = "";
      let msgAr = "";

      if (area === 'west_plaza' && dest === 'main_stage') {
        msgEn =
          "Avoid the central corridor in West Plaza (85% congestion). Using the eastern spine to reach the main stage. Estimated: 3 minutes.";
        msgAr =
          "ØªØ¬Ù†Ù‘Ø¨ Ø§Ù„Ù…Ù…Ø± Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ ÙÙŠ Ø§Ù„Ø³Ø§Ø­Ø© Ø§Ù„ØºØ±Ø¨ÙŠØ© (Ø§Ø²Ø¯Ø­Ø§Ù… Ù¨Ù¥Ùª). Ø³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ Ø¹Ø¨Ø± Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø´Ø±Ù‚ÙŠ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³Ø±Ø­ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ. Ø§Ù„Ø²Ù…Ù† Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: Ù£ Ø¯Ù‚Ø§Ø¦Ù‚ Ù…Ø´ÙŠÙ‹Ø§.";
      } else if (dest === 'food_zone') {
        msgEn =
          "Food Zone is getting busy. Routing you through Wadi Trail, entering from the northern side to avoid the main cluster.";
        msgAr =
          "Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ØªØ´Ù‡Ø¯ Ø§Ø²Ø¯ÙŠØ§Ø¯Ù‹Ø§ ÙÙŠ Ø§Ù„Ø§Ø²Ø¯Ø­Ø§Ù…. Ø³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ Ø¹Ø¨Ø± ÙˆØ§Ø¯ÙŠ Ø­Ù†ÙŠÙØ© Ø«Ù… Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ù† Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ© Ù„ØªØ¬Ù†Ù‘Ø¨ Ø§Ù„ØªØ¬Ù…Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ.";
      } else if (area === 'heritage_spine' && dest === 'museum') {
        msgEn =
          "Direct heritage spine path is moderate. Keeping you on the spine with a short detour to avoid a forming hotspot.";
        msgAr =
          "Ù…Ø³Ø§Ø± Ù…Ø­ÙˆØ± Ø§Ù„ØªØ±Ø§Ø« ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ø²Ø¯Ø­Ø§Ù… Ù…ØªÙˆØ³Ø·Ø©. Ø³ÙŠØªÙ… Ø¥Ø¨Ù‚Ø§Ø¤Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ÙˆØ± Ù…Ø¹ Ø§Ù„ØªÙØ§Ù Ø¨Ø³ÙŠØ· Ù„ØªØ¬Ù†Ù‘Ø¨ Ù†Ù‚Ø·Ø© Ø§Ø²Ø¯Ø­Ø§Ù… Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ÙƒÙ‘Ù„.";
      } else {
        msgEn =
          "You are routed through the least crowded path available right now.";
        msgAr =
          "ØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ Ø¹Ø¨Ø± Ø£Ù‚Ù„ Ù…Ø³Ø§Ø± Ø§Ø²Ø¯Ø­Ø§Ù…Ù‹Ø§ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø­Ø¸Ø©.";
      }

      box.innerHTML =
        "<strong>Recommended Route Â· Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡</strong><br/>" +
        msgEn +
        "<br/><span style='display:block; margin-top:4px; font-size:0.9em;'>" +
        msgAr +
        "</span>";
      box.style.display = 'block';
    }

    function simulatePrediction() {
      alert(
        "AI prediction: West Plaza congestion will reach 92% in 8 minutes. System suggests redirecting 30% of visitors to the Wadi Trail spine.\n\n" +
        "ØªÙ†Ø¨Ø¤ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ: Ø³ÙŠØµÙ„ Ø§Ø²Ø¯Ø­Ø§Ù… Ø§Ù„Ø³Ø§Ø­Ø© Ø§Ù„ØºØ±Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ù©Ù¢Ùª Ø®Ù„Ø§Ù„ Ù¨ Ø¯Ù‚Ø§Ø¦Ù‚. ÙŠÙ‚ØªØ±Ø­ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ù£Ù Ùª Ù…Ù† Ø§Ù„Ø²ÙˆØ§Ø± Ù†Ø­Ùˆ Ù…Ø­ÙˆØ± ÙˆØ§Ø¯ÙŠ Ø­Ù†ÙŠÙØ©."
      );
    }

    function toggleMode() {
      document.body.classList.toggle('dark');
    }
  </script>
</body>
</html>
